(this["webpackJsonprankten-react"]=this["webpackJsonprankten-react"]||[]).push([[0],{131:function(e,t,n){e.exports=n(146)},136:function(e,t,n){},138:function(e,t,n){e.exports=n.p+"static/media/ranktenlogo.6a7b3d01.png"},145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),s=n.n(c),o=(n(136),n(2)),i=n(5),l=n(22),u=n(115),m=n(198),p=n(3),d=n.n(p),f=n(8),b="https://rankten-express.herokuapp.com";function h(e){return g.apply(this,arguments)}function g(){return(g=Object(f.a)(d.a.mark((function e(t){var n,a,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",a=!1,r=null,e.prev=3,e.t0=w,e.next=7,I(b+t,{method:"GET",headers:v(n)});case 7:return e.t1=e.sent,e.next=10,(0,e.t0)(e.t1);case 10:r=e.sent,e.next=17;break;case 13:e.prev=13,e.t2=e.catch(3),a=!0,r=e.t2.message;case 17:return e.abrupt("return",[a,r]);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function y(e){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(d.a.mark((function e(t){var n,a,r,c,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",a=s.length>2&&void 0!==s[2]?s[2]:{},r=!1,c=null,e.prev=4,e.t0=w,e.next=8,I(b+t,{method:"POST",body:JSON.stringify(a),headers:v(n)});case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:c=e.sent,e.next=18;break;case 14:e.prev=14,e.t2=e.catch(4),r=!0,c=e.t2.message;case 18:return e.abrupt("return",[r,c]);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function j(e){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(d.a.mark((function e(t){var n,a,r,c,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",a=s.length>2&&void 0!==s[2]?s[2]:{},r=!1,c=null,e.prev=4,e.t0=w,e.next=8,I(b+t,{method:"PUT",body:JSON.stringify(a),headers:v(n)});case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:c=e.sent,e.next=18;break;case 14:e.prev=14,e.t2=e.catch(4),r=!0,c=e.t2.message;case 18:return e.abrupt("return",[r,c]);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function k(e){return x.apply(this,arguments)}function x(){return(x=Object(f.a)(d.a.mark((function e(t){var n,a,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",a=!1,e.prev=2,e.t0=w,e.next=6,I(b+t,{method:"DELETE",headers:v(n)});case 6:return e.t1=e.sent,e.next=9,(0,e.t0)(e.t1);case 9:r=e.sent,e.next=16;break;case 12:e.prev=12,e.t2=e.catch(2),a=!0,r=e.t2.message;case 16:return e.abrupt("return",[a,r]);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===e?{Accept:"application/json","Content-Type":"application/json"}:{Authorization:"Bearer ".concat(e),Accept:"application/json","Content-Type":"application/json"}}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,200!=t.status){e.next=7;break}return e.abrupt("return",n);case 7:throw new Error(n.message);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(d.a.mark((function e(t,n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,r=setTimeout((function(){return a.abort()}),6e3),e.next=4,fetch(t,Object(i.a)(Object(i.a)({},n),{},{signal:a.signal}));case 4:return c=e.sent,clearTimeout(r),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return localStorage.getItem("JWTTOKEN")}function N(e){localStorage.setItem("MAINTAB",e)}function L(){localStorage.removeItem("USERNAME"),localStorage.removeItem("PASSWORD"),localStorage.removeItem("JWTTOKEN")}var P=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/validate_token",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function M(e,t){return D.apply(this,arguments)}function D(){return(D=Object(f.a)(d.a.mark((function e(t,n){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/login","",{username:t,password:n});case 2:return a=e.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],e.abrupt("return",B(c,s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(f.a)(d.a.mark((function e(t,n,a){var r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/signup","",{username:t,password:n,bio:a});case 2:return r=e.sent,c=Object(o.a)(r,2),s=c[0],i=c[1],e.abrupt("return",B(s,i));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return e||(n=t.jwtToken,localStorage.setItem("JWTTOKEN",n)),[e,t];var n}var A=n(91)(),F="GET_USER_ACTION",_="UPDATE_BIO_ACTION",W="UPDATE_PROFILE_PIC_ACTION",z="FOLLOW_USER_ACTION",q="LIKE_LIST_ACTION",K="LIKE_COMMENT_ACTION";function V(e,t){var n={},a={},r=0;switch(t.type){case F:return Object(i.a)(Object(i.a)({},e),A(t.payload.user));case _:return(n=A(e)).bio=t.payload.bio,n;case W:return(n=A(e)).profilePic=t.payload.profPic,n;case z:n=A(e);var c=t.payload.hasFollowed;if(a=t.payload.targetId,c)n.following.push(a),n.numFollowing+=1;else for(r=0;r<n.following.length;r++)if(n.following[r]===a){n.following.splice(r,1),n.numFollowing-=1;break}return n;case q:n=A(e);var s=t.payload.hasLiked;if(a=t.payload.targetId,s)n.likedLists.push(a);else for(r=0;r<n.likedLists.length;r++)if(n.likedLists[r]===a){n.likedLists.splice(r,1);break}return n;case K:n=A(e);var o=t.payload.hasLiked;if(a=t.payload.targetId,o)n.likedComments.push(a);else for(r=0;r<n.likedComments.length;r++)if(n.likedComments[r]===a){n.likedComments.splice(r,1);break}return n;default:return e}}var Y=Object(a.createContext)(null),J=Object(a.createContext)("light"),H=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(T());case 2:if(n=e.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],!r){e.next=11;break}return e.next=9,H(t);case 9:e.next=13;break;case 11:t.setUserToken(T()),t.userDispatch({type:F,payload:{user:c}});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G="#f1e3f3",$="#c2bbf0",Z="#4a051c",Q="#6320ee",X="#ef476f",ee="'Nunito', sans-serif",te=function(e){return{fontFamily:ee,color:e.palette.secondary.dark}},ne=function(e){return{margin:"10px",alignSelf:"center",boxShadow:e.shadows[4],borderRadius:"10px"}},ae=n(25),re=n(11),ce=n.n(re),se=function(e){return r.a.createElement("img",{src:n(138),alt:"Rank Ten logo",style:{maxWidth:"80%",alignSelf:"center",paddingTop:"10px"},width:"".concat(e.width,"px")})},oe=(n(17),function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(ae.a)(),i=Object(a.useContext)(Y),u=i.userDispatch,m=i.userToken;return Object(a.useEffect)((function(){console.log("called splash"),N(0),m?(console.log(m),Object(f.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(m);case 2:t=e.sent,n=Object(o.a)(t,2),a=n[0],r=n[1],a?c("/auth"):(u({type:F,payload:{user:r}}),c("/main"));case 7:case"end":return e.stop()}}),e)})))()):c("/auth")}),[c,u,m]),n?r.a.createElement(l.a,{to:n}):r.a.createElement("div",{className:"col",style:{alignItems:"center",minHeight:"100vh",justifyContent:"space-around",backgroundColor:s.palette.background.default}},r.a.createElement(se,{width:"600"}),r.a.createElement(ce.a,{type:"bars",color:Q}))}),ie=n(202),le=n(184),ue=n(97),me=n.n(ue),pe=n(199),de=n(183),fe=n(185),be=n(186),he=n(187),ge=n(71),ye=n.n(ge),Oe=n(72),je=n.n(Oe),Ee={color:$,width:"90%",borderRadius:"15px",margin:"10px"},ke=function(e){return r.a.createElement(pe.a,{onKeyPress:function(t){"Enter"===t.key&&(e.onEnter(),t.preventDefault())},error:e.error,helperText:e.error?"Name needs 3-15 characters":"",style:Ee,id:"name-field",label:"User Name",variant:"outlined",onChange:e.onChange})},xe=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],i=e.errorMessage?e.errorMessage:"Password needs 6-20 characters",l=e.label?e.label:"Password";return r.a.createElement(pe.a,{error:e.error,onKeyPress:function(t){"Enter"===t.key&&(e.onEnter(),t.preventDefault())},helperText:e.error?i:"",style:Ee,id:"password-field",label:l,type:c?"text":"password",autoComplete:"current-password",variant:"outlined",onChange:e.onChange,InputProps:{endAdornment:r.a.createElement(de.a,{position:"end"},r.a.createElement(le.a,{"aria-label":"toggle password visibility",onClick:function(){return s(!c)}},c?r.a.createElement(ye.a,null):r.a.createElement(je.a,null)))}})},ve=function(e){return e.loading?r.a.createElement(ce.a,{type:"bubbles",color:Q}):r.a.createElement(fe.a,{onClick:e.onClick,variant:"contained",style:{width:"70%",marginTop:"15px",marginBottom:"15px",color:"#ffffff",backgroundColor:Q}},e.isLogin?"Log In":"Sign Up")},we=function(e){return r.a.createElement("h4",{style:e.textTheme},e.isLogin?"Don't have an account? ":"Have an account? ",r.a.createElement("u",{style:{color:e.textTheme.color,cursor:"pointer"},onClick:e.onClick},e.isLogin?"Sign Up":"Log In"))},Ce=new RegExp("^[a-zA-Z0-9_#?!@$ %^&*-]{3,15}$"),Ie=new RegExp("^[a-zA-Z0-9_#?!@$ %^&*-]{6,20}$"),Se="",Te="",Ne=function(e){var t=Object(ae.a)(),n=Object(a.useState)(!1),c=Object(o.a)(n,2),s=c[0],u=c[1],m=Object(a.useState)(!1),p=Object(o.a)(m,2),b=p[0],h=p[1],g=Object(a.useState)(!1),y=Object(o.a)(g,2),O=y[0],j=y[1],E=Object(a.useState)(!1),k=Object(o.a)(E,2),x=k[0],v=k[1],w=Object(a.useContext)(Y),C=w.userDispatch,I=w.setUserToken,S=te(t),T=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(!0),n=!1,Se.match(Ce)?u(!1):(n=!0,u(!0),j(!1)),Te.match(Ie)?h(!1):(n=!0,h(!0),j(!1)),n){t.next=24;break}return t.next=7,M(Se,Te);case 7:if(a=t.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],!c){t.next=18;break}return j(!1),e.setAuthFail((function(e){return{message:s,failed:!0}})),v(!1),t.abrupt("return");case 18:C({type:F,payload:{user:s}}),I(s.jwtToken),j(!0),v(!1);case 22:t.next=26;break;case 24:j(!1),v(!1);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return b||s||!O?r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},ne(t)),{},{width:"500px",maxWidth:"90%"})},r.a.createElement(he.a,{className:"col",style:{alignItems:"center",paddingBottom:"2px"}},r.a.createElement("h1",{style:S},"Log In"),r.a.createElement(ke,{error:s,onChange:function(e){return Se=e.target.value},onEnter:T}),r.a.createElement(xe,{error:b,onChange:function(e){return Te=e.target.value},onEnter:T}),r.a.createElement(ve,{loading:x,isLogin:!0,onClick:function(){return T()}}),r.a.createElement(we,{textTheme:S,isLogin:!0,onClick:function(){return e.setLogin(!1)}}))):r.a.createElement(l.a,{to:"/main"})},Le="",Pe="",Me="",De=function(e){return r.a.createElement(pe.a,{defaultValue:e.default,onKeyPress:function(t){"Enter"===t.key&&(e.onEnter(),t.preventDefault())},style:Ee,label:"Bio",multiline:!0,rows:4,id:"bio-field",variant:"outlined",error:e.error,helperText:e.error?"Bio cannot be empty":"",onChange:e.onChange})},Ue=function(e){var t=Object(ae.a)(),n=te(t),c=Object(a.useState)(!1),s=Object(o.a)(c,2),u=s[0],m=s[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1],y=Object(a.useState)(!1),O=Object(o.a)(y,2),j=O[0],E=O[1],k=Object(a.useState)(!1),x=Object(o.a)(k,2),v=x[0],w=x[1],C=Object(a.useState)(!1),I=Object(o.a)(C,2),S=I[0],T=I[1],N=Object(a.useContext)(Y),L=N.userDispatch,P=N.setUserToken,M=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T(!0),n=!1,console.log(Le),Le.match(Ce)?m(!1):(n=!0,m(!0),w(!1)),Pe.match(Ie)?g(!1):(n=!0,g(!0),w(!1)),Me&&""!==Me?E(!1):(n=!0,E(!0),w(!1)),n){t.next=27;break}return t.next=9,U(Le,Pe,Me);case 9:if(a=t.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],console.log(s),!c){t.next=21;break}return w(!1),"Bad request"===s?e.setAuthFail((function(e){return{message:"Username in use",failed:!0}})):e.setAuthFail((function(e){return{message:s,failed:!0}})),T(!1),t.abrupt("return");case 21:L({type:F,payload:{user:s}}),P(s.jwtToken),w(!0),T(!1);case 25:t.next=28;break;case 27:T(!1);case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return h||u||j||!v?r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},ne(t)),{},{width:"500px",maxWidth:"90%"})},r.a.createElement(he.a,{className:"col",style:{alignItems:"center",paddingBottom:"2px"}},r.a.createElement("h1",{style:n},"Sign Up"),r.a.createElement(ke,{error:u,onChange:function(e){return Le=e.target.value},onEnter:M}),r.a.createElement(xe,{error:h,onChange:function(e){return Pe=e.target.value},onEnter:M}),r.a.createElement(De,{onEnter:M,onChange:function(e){return Me=e.target.value},error:j}),r.a.createElement(ve,{loading:S,isLogin:!1,onClick:function(){return M()}}),r.a.createElement(we,{textTheme:n,isLogin:!1,onClick:function(){return e.setLogin(!0)}}))):r.a.createElement(l.a,{to:"/main"})},Re=function(e){N(0);var t=Object(ae.a)(),n=Object(a.useState)({message:"",failed:!1}),c=Object(o.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)(!0),u=Object(o.a)(l,2),m=u[0],p=u[1];console.log("IsLogin: ".concat(m));var d=function(e,t){"clickaway"!==t&&i((function(e){return{message:e.message,failed:!1}}))};return r.a.createElement("div",{className:"row",style:{backgroundColor:t.palette.background.default,minHeight:"100vh",justifyContent:"space-evenly"}},r.a.createElement("div",{className:"col",style:{justifyContent:"center"}},r.a.createElement(se,{width:"500"}),r.a.createElement("h1",{style:{alignSelf:"center",paddingTop:"20px",fontFamily:ee,color:t.palette.secondary.dark,maxWidth:"90%"}},"Quickly create and share top ten lists on Rank 10!")),m?r.a.createElement(Ne,{setAuthFail:i,setLogin:p}):r.a.createElement(Ue,{setAuthFail:i,setLogin:p}),r.a.createElement(ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s.failed,autoHideDuration:6e3,onClose:d,message:s.message,action:r.a.createElement(le.a,{size:"small","aria-label":"close",color:"inherit",onClick:d},r.a.createElement(me.a,{fontSize:"small"}))}))},Be=n(52),Ae=n(29),Fe=n(188),_e=n(182),We=n(149),ze=n(192),qe=n(193),Ke=n(194),Ve=n(204),Ye=n(195),Je=n(196),He=n(197),Ge=n(117),$e=n(190),Ze=n(201),Qe=n(205),Xe=n(111),et=n.n(Xe),tt=n(35),nt=n.n(tt),at=n(110),rt=n.n(at),ct=n(114),st=n.n(ct),ot=n(113),it=n.n(ot),lt=n(112),ut=n.n(lt),mt=n(203),pt=n(51),dt=n.n(pt),ft=n(30),bt=n(189),ht=n(50),gt=n.n(ht),yt=n(98),Ot=n.n(yt),jt=function(e){return r.a.createElement(Ot.a,{onClick:e.onClick,style:{fontSize:"26px",marginLeft:"10px",color:e.color,cursor:"pointer"}})},Et=Object(Fe.a)((function(e){return{avatar:{height:"50px",width:"50px"},avIcon:{height:"100%",width:"100%"}}})),kt=function(e){var t=Object(l.g)(),n=Object(ae.a)(),a=ne(n),c=te(n),s=Et();return r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},a),{},{maxWidth:"100%",width:"96%",margin:"4px",padding:"10px",cursor:"pointer"}),onClick:function(){t.push("/main/profile/"+e.userId)}}," ",r.a.createElement("div",{className:"row",style:{alignItems:"center"}},r.a.createElement(mt.a,{src:e.profPic,className:s.avatar},r.a.createElement(nt.a,{className:s.avIcon})),r.a.createElement("div",{className:"row",style:{justifyContent:"center",flexGrow:1}},r.a.createElement("h2",{style:Object(i.a)(Object(i.a)({},c),{},{alignSelf:"center"})},e.userName))))},xt="discover",vt="likes",wt="rankedlists",Ct="rankedlistsp",It="feed",St="search_lists",Tt=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a,r,c,s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.refresh,n||(n=""),r=Nt(t.endpointBase,t.page,t.sort,t.userId,t.query,a),e.next=5,h(r,n);case 5:return c=e.sent,s=Object(o.a)(c,2),i=s[0],l=s[1],e.abrupt("return",Lt(i,l,t.page));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Nt(e,t,n,a,r,c){var s="/"+e;switch(e){case xt:case vt:s+="/".concat(t,"/").concat(n);break;case wt:s+="/".concat(a,"/").concat(t,"/").concat(n);break;case Ct:s+="/".concat(t,"/").concat(n);break;case It:s+="/".concat(t);break;case St:console.log(r),s+="/".concat(t,"/").concat(n,"?q=").concat(r.replace(/ /g,"+"))}return c&&(s+=e===St?"&re=True":"?re=True"),s}function Lt(e,t,n){return e?[e,!0,[]]:[e,t.lastPage===n,t.items]}var Pt="FOLLOWING_LIST",Mt="FOLLOWERS_LIST",Dt="LIKERS_LIST",Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?"?re=true":""},Rt=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,h("/following/"+t+Ut(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,h("/followers/"+t+Ut(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,h("/like/"+t+Ut(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ft(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(f.a)(d.a.mark((function e(t){var n,a,r,c,s,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],t.query=t.query.replace(/ /g,"+"),e.next=4,h("/search_users/"+t.page+"/"+t.sort+"?q="+t.query+(n?"&re=true":""));case 4:return a=e.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],e.abrupt("return",Lt(c,s,t.page));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wt=function(e){var t=Object(ae.a)(),n=te(t),c=Object(a.useState)([]),s=Object(o.a)(c,2),l=s[0],u=s[1],m=Object(a.useState)(!1),p=Object(o.a)(m,2),b=p[0],h=p[1],g=Object(a.useState)(!1),y=Object(o.a)(g,2),O=y[0],j=y[1],E=function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.open){t.next=10;break}return h(!0),t.next=4,zt(e.type)(e.name,n);case 4:a=t.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],c||u(Object(ft.a)(s)),h(!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){E(!1)}),[e.type,e.name,e.open]),Object(a.useEffect)((function(){E(!0)}),[O]),e.open?r.a.createElement(bt.a,{onClose:e.handleClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{backgroundColor:t.palette.background.default,alignItems:"center",overscrollBehaviorY:"none"}},r.a.createElement("div",{className:"row",style:{justifyContent:"space-between",width:"400px",alignItems:"center",alignSelf:"start",maxWidth:"100%",position:"sticky",top:"0",zIndex:"1",backgroundColor:t.palette.background.default}},r.a.createElement("div",{className:"row",style:{alignItems:"center"}},r.a.createElement(jt,{onClick:e.handleClose}),r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},n),{},{marginLeft:"22px",fontSize:"22px",marginRight:"20px"})},e.title)),r.a.createElement(gt.a,{style:{cursor:"pointer",marginRight:"8px"},onClick:function(){return j(!O)}})),r.a.createElement("div",{className:"col",style:{alignItems:"center",overscrollBehaviorY:"scroll",maxHeight:"90%",width:"100%",maxWidth:"100%",marginBottom:"6px"}},b?r.a.createElement(ce.a,{type:"bars",color:Q}):l.length?l.map((function(e){return r.a.createElement(kt,{key:"user_".concat(e.username),userName:e.username,profPic:e.profilePic,userId:e.userId})})):r.a.createElement("h3",{style:n},"No users found")))):r.a.createElement("i",{style:{display:"none"}})};function zt(e){switch(e){case Mt:return Bt;case Pt:return Rt;case Dt:return At;default:throw new Error("Bro what are you doing?")}}var qt=function(e){var t=e.maxWidth;return r.a.createElement(fe.a,{onClick:e.onClick,variant:"contained",disabled:e.disabled,style:{maxWidth:t||"75%",width:e.width,marginTop:"15px",marginBottom:"15px",color:"#ffffff",backgroundColor:e.color?e.color:Q}},e.label)},Kt="LIKED",Vt="UNLIKED",Yt="FOLLOW",Jt="UNFOLLOW",Ht=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/users/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/users",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Object(f.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("/users",n,{password:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(f.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("/users",n,{bio:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(f.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("/users",n,{profilePic:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Xt(e,t){return en.apply(this,arguments)}function en(){return(en=Object(f.a)(d.a.mark((function e(t,n){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/follow/"+t,n);case 2:if(a=e.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],!c){e.next=10;break}return e.abrupt("return",[c,s]);case 10:if(!s.message.includes("unfollow")){e.next=14;break}return e.abrupt("return",[c,Jt]);case 14:return e.abrupt("return",[c,Yt]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(f.a)(d.a.mark((function e(t,n){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/like/"+t,n);case 2:return a=e.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],e.abrupt("return",an(c,s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return e?[e,t]:t.message.includes("unliked")?[e,Vt]:[e,Kt]}var rn=Object(Fe.a)((function(e){return{avatar:{height:"200px",width:"200px",marginBottom:"12px"},avIcon:{height:"100%",width:"100%"}}})),cn=function(e){var t=Object(a.useContext)(Y),n=t.user,c=t.userDispatch,s=t.userToken,l=Object(ae.a)(),u=te(l),m=rn(),p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1],y=Object(a.useState)(!1),O=Object(o.a)(y,2),j=O[0],E=O[1],k=Object(a.useState)(n.profilePic),x=Object(o.a)(k,2),v=x[0],w=x[1];return e.open?r.a.createElement(bt.a,{onClose:e.handleClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{style:{backgroundColor:l.palette.background.default}},r.a.createElement("div",{className:"row",style:{alignItems:"center",width:"500px",maxWidth:"95%"}},r.a.createElement(jt,{onClick:e.handleClose}),r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},u),{},{marginLeft:"22px"})},"Choose Profile Pic")),r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement("img",{style:{display:"none"},src:v,onError:function(){return E(!0)},onLoad:function(){return E(!1)}}),r.a.createElement(mt.a,{src:v,className:m.avatar},r.a.createElement(nt.a,{className:m.avIcon})),r.a.createElement(pe.a,{defaultValue:v,error:j,helperText:j?"Image not valid":"",style:Ee,id:"url-field",label:"Image Url",variant:"outlined",onChange:function(e){return w(e.target.value)}}),h?r.a.createElement(ce.a,{type:"bars",color:Q}):r.a.createElement(qt,{disabled:j,width:"225px",onClick:Object(f.a)(d.a.mark((function t(){var n,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.next=3,Qt(v,s);case 3:n=t.sent,a=Object(o.a)(n,2),r=a[0],a[1],r?E(!0):(E(!1),c({type:W,payload:{profPic:v}}),e.handleClose()),g(!1);case 9:case"end":return t.stop()}}),t)}))),label:"Set As Profile Pic"})))):r.a.createElement("i",{style:{display:"none"}})},sn=n(106),on=n.n(sn),ln=["January","February","March","April","May","June","July","August","September","October","November","December"],un=0,mn=1,pn=2;var dn=n(99),fn=n.n(dn),bn=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],s=n[1],i=function(t){e.onSort(t),s(null)};return r.a.createElement("div",null,r.a.createElement(fn.a,{style:{marginLeft:"10px",cursor:"pointer"},onClick:function(e){return s(e.currentTarget)}}),r.a.createElement(Ge.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){return s(null)}},r.a.createElement($e.a,{onClick:function(){return i(un)}},e.user?"Points":"Likes"),r.a.createElement($e.a,{onClick:function(){return i(pn)}},"Oldest to Newest"),r.a.createElement($e.a,{onClick:function(){return i(mn)}},"Newest to Oldest")))},hn=0,gn=un,yn=function(e){var t=Object(ae.a)(),n=te(t),c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),m=Object(o.a)(u,2),p=m[0],b=m[1],h=Object(a.useState)(!1),g=Object(o.a)(h,2),y=g[0],O=g[1],j=function(t){Object(f.a)(d.a.mark((function n(){var a,r,c,s,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return hn=0,O(!0),n.next=4,Ft({page:0,sort:t,query:e.query});case 4:a=n.sent,r=Object(o.a)(a,3),c=r[0],s=r[1],i=r[2],b(s),c||l(Object(ft.a)(i)),O(!1),gn=t;case 13:case"end":return n.stop()}}),n)})))()};return Object(a.useEffect)((function(){j(gn)}),[e.query]),r.a.createElement("div",{className:"col",style:{alignItems:"center",width:"100%"}},r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"start",width:"800px",maxWidth:"100%"}},r.a.createElement("h2",{style:n},'Searching for users "',e.query,'"'),r.a.createElement(bn,{onSort:j,user:!0})),r.a.createElement("div",{className:"row",style:{justifyContent:"center",flexWrap:"wrap",width:"80%"}},i.length?i.map((function(e){return r.a.createElement(kt,{key:"user_".concat(e.username),userName:e.username,userId:e.userId,profPic:e.profilePic})})):r.a.createElement("h3",{style:n},"No users found")),y?r.a.createElement(ce.a,{type:"bars",color:Q}):p?r.a.createElement("i",{style:{display:"none"}}):r.a.createElement(qt,{label:"Load more",width:"120px",onClick:Object(f.a)(d.a.mark((function t(){var n,a,r,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,Ft({page:hn+1,sort:gn,query:e.query});case 3:n=t.sent,a=Object(o.a)(n,3),r=a[0],c=a[1],s=a[2],b(c),r||l([].concat(Object(ft.a)(i),Object(ft.a)(s))),O(!1),hn+=1;case 12:case"end":return t.stop()}}),t)})))}))};function On(e,t){return jn.apply(this,arguments)}function jn(){return(jn=Object(f.a)(d.a.mark((function e(t,n){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/like_comment/"+t,n);case 2:return a=e.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],e.abrupt("return",an(c,s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(){return kn.apply(this,arguments)}function kn(){return(kn=Object(f.a)(d.a.mark((function e(){var t,n,a,r,c,s,i,l,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,n=u.length>1&&void 0!==u[1]?u[1]:0,a=u.length>2?u[2]:void 0,r=u.length>3&&void 0!==u[3]&&u[3],e.next=6,h("/user_comments/".concat(t,"/").concat(n).concat(r?"?re=True":""),a);case 6:return c=e.sent,s=Object(o.a)(c,2),i=s[0],l=s[1],e.abrupt("return",Lt(i,l,t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e){return vn.apply(this,arguments)}function vn(){return(vn=Object(f.a)(d.a.mark((function e(t){var n,a,r,c,s,i,l,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:0,a=u.length>2&&void 0!==u[2]?u[2]:0,r=u.length>3&&void 0!==u[3]&&u[3],e.next=5,h("/comments/".concat(t,"/").concat(n,"/").concat(a).concat(r?"?re=True":""));case 5:return c=e.sent,s=Object(o.a)(c,2),i=s[0],l=s[1],e.abrupt("return",Lt(i,l,n));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(f.a)(d.a.mark((function e(t,n,a){var r,c,s,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>3&&void 0!==o[3]&&o[3],c="/comment/"+t,s={comment:n},!r){e.next=9;break}return e.next=6,j(c,a,s);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,y(c,a,s);case 11:e.t0=e.sent;case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var In=function(){var e=Object(f.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/comment/"+t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Sn=n(105),Tn=n.n(Sn),Nn=n(74),Ln=n.n(Nn),Pn=n(75),Mn=n.n(Pn),Dn=n(104),Un=n.n(Dn),Rn=n(91)(),Bn="GET_R_LIST",An="UPDATE_TITLE",Fn="UPDATE_PRIVATE",_n="UPDATE_ITEM",Wn="RE_ORDER",zn="CREATE_ITEM",qn="DELETE_ITEM";function Kn(e){for(var t=0;t<e.rankItems.length;t++)e.rankItems[t].private=e.private,e.rankItems[t].listTitle=e.title}function Vn(e,t){var n={},a={};switch(t.type){case Bn:return t.payload.isNew?Object(i.a)(Object(i.a)({},e),{private:!1,rankItems:[],title:"Edit Title"}):Object(i.a)(Object(i.a)({},e),Rn(t.payload.rankedList));case An:return(n=Rn(e)).title=t.payload.title,Kn(n),n;case Fn:return(n=Rn(e)).private=t.payload.private,Kn(n),n;case _n:return a=t.payload,(n=Rn(e)).rankItems[a.index].itemName=a.itemName,n.rankItems[a.index].description=a.description,n.rankItems[a.index].picture=a.picture,Kn(n),n;case Wn:(n=Rn(e)).rankItems=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(o.a)(r,1)[0];return a.splice(n,0,c),a}(Rn(n.rankItems),t.payload.startIndex,t.payload.endIndex);for(var r=0;r<n.rankItems.length;r++)n.rankItems[r].ranking=r+1;return Kn(n),n;case zn:return a=t.payload,(n=Rn(e)).rankItems.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{new:!0,ranking:e,itemName:t,description:n,picture:a,listTitle:r,private:c,itemId:Math.floor(999999999*Math.random()+1)}}(n.rankItems.length+1,a.itemName,a.description,a.picture,n.title,n.private)),Kn(n),n;case qn:(n=Rn(e)).rankItems.splice(t.payload.index,1);for(var c=0;c<n.rankItems.length;c++)n.rankItems[c].ranking=c+1;return Kn(n),n;default:return e}}function Yn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/rankedlist/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){return(Hn=Object(f.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0;a<t.rankItems.length;a++)delete t.rankItems[a].new,delete t.rankItems[a].itemId;return e.next=3,y("/rankedlist",n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=Object(f.a)(d.a.mark((function e(t,n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0;r<t.rankItems.length;r++)t.rankItems[r].new&&(delete t.rankItems[r].new,delete t.rankItems[r].itemId);return e.next=3,j("/rankedlist/".concat(n),a,{title:t.title,private:t.private,rankItems:t.rankItems});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(f.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/rankedlist/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xn=n(100),ea=n(101),ta=n(118),na=n(116),aa=n(73),ra=n.n(aa),ca=function(e){return r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},e.cardStyle),{},{width:"412px",maxWidth:"96%",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",marginBottom:"8px",borderRadius:"15px",marginLeft:"8px",marginRight:"8px"})},r.a.createElement("div",{className:"col",style:{alignSelf:"center",alignItems:"center",width:"100%"}},r.a.createElement("div",{className:"row",style:{alignItems:"center",width:"100%",flexWrap:"nowrap",marginBottom:"2px"}},r.a.createElement(mt.a,{style:{height:"40px",width:"40px",backgroundColor:$,margin:"12px"}},r.a.createElement("h3",{style:{fontFamily:ee,color:"white",fontSize:"22px"}},e.rankItem.ranking)),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{margin:"0px",marginLeft:"2px",fontSize:"24px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},e.rankItem.itemName)),r.a.createElement("img",{style:{borderRadius:"15px",width:"375px",maxWidth:"98%",alignSelf:"center"},src:e.rankItem.picture}),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{textAlign:"center",marginTop:e.rankItem.picture?"8px":"0px",marginBottom:e.rankItem.description?"10px":"6px"})},e.rankItem.description),e.isMain?r.a.createElement("div",{className:"row",style:{width:"100%",alignItems:"center",justifyContent:"space-evenly",marginBottom:"10px"}},r.a.createElement(dt.a,{style:{cursor:"pointer"},onClick:e.onEdit}),r.a.createElement(ra.a,{style:{cursor:"pointer"},onClick:e.onDelete})):r.a.createElement("i",{style:{display:"none"}})))},sa=function(e){Object(ta.a)(n,e);var t=Object(na.a)(n);function n(){return Object(Xn.a)(this,n),t.apply(this,arguments)}return Object(ea.a)(n,[{key:"render",value:function(){return this.props.provided?r.a.createElement("div",Object.assign({style:{width:"100%"}},this.props.provided.draggableProps,this.props.provided.dragHandleProps,{ref:this.props.innerRef}),r.a.createElement(ca,{rankItem:this.props.rankItem,onClick:this.props.onClick,textTheme:this.props.textTheme,cardTheme:this.props.cardTheme,isMain:this.props.isMain,onEdit:this.props.onEdit,onDelete:this.props.onDelete})):r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ca,{rankItem:this.props.rankItem,onClick:this.props.onClick,textTheme:this.props.textTheme,cardTheme:this.props.cardTheme}))}}]),n}(r.a.Component),oa=function(e){var t=Object(ae.a)(),n=te(t),c=ne(t),s=Object(a.useReducer)(Vn,null),l=Object(o.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1];Object(a.useEffect)((function(){Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.open){t.next=2;break}return t.abrupt("return");case 2:return g(!0),t.next=5,Yn(e.listId);case 5:n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],r||m({type:Bn,payload:{isNew:!1,rankedList:c}}),g(!1);case 11:case"end":return t.stop()}}),t)})))()}),[e.listId,e.open]);var y=h||!u;return r.a.createElement(bt.a,{onClose:e.onClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{width:"100%",backgroundColor:t.palette.background.default,alignItems:"center",overscrollBehaviorY:"none"}},r.a.createElement("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center",alignSelf:"start",width:"100%",position:"sticky",top:"0",zIndex:"1",backgroundColor:t.palette.background.default}},r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"start"}},r.a.createElement(jt,{onClick:e.onClose}),r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},n),{},{marginLeft:"22px",fontSize:"22px",marginRight:"20px"})},y?"Loading...":u.title)),e.mainUser.user.username===e.name?r.a.createElement(dt.a,{style:{cursor:"pointer",marginRight:"10px"},onClick:e.onEdit}):r.a.createElement("i",{style:{display:"none"}})),r.a.createElement("div",{className:"col",style:{alignItems:"center",overscrollBehaviorY:"scroll",maxWidth:"100%"}},r.a.createElement(xa,{name:y?"Loading...":u.username,userId:y?1:u.userId,profPic:e.profPic,timeStamp:y?0:u.dateCreated,isDark:"dark"===t.palette.type,full:!0}),y?r.a.createElement(ce.a,{type:"bars",color:Q}):u.rankItems.map((function(e){return r.a.createElement(sa,{key:e.ranking,rankItem:e,textTheme:n,cardTheme:c,isMain:!1})})),y?r.a.createElement(ce.a,{type:"bars",color:Q}):r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Ea,{numComments:u.numComments,numLikes:u.numLikes,textTheme:n,id:u.listId,isLiked:e.mainUser.user.likedLists.includes(u.listId),mainUser:e.mainUser})))))},ia=n(76),la=n(103),ua=n.n(la),ma=function(e){var t=Object(ae.a)(),n=te(t),c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),m=Object(o.a)(u,2),p=m[0],b=m[1],h=Object(a.useState)(e.isNew?"":e.rankItem.picture),g=Object(o.a)(h,2),y=g[0],O=g[1],j=Object(a.useState)(e.isNew?"":e.rankItem.itemName),E=Object(o.a)(j,2),k=E[0],x=E[1],v=Object(a.useState)(e.isNew?"":e.rankItem.description),w=Object(o.a)(v,2),C=w[0],I=w[1];return Object(a.useEffect)((function(){O(e.isNew?"":e.rankItem.picture),x(e.isNew?"":e.rankItem.itemName),I(e.isNew?"":e.rankItem.description)}),[e.open,e.isNew,e.rankItem]),e.open?r.a.createElement(bt.a,{onClose:e.handleClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{alignItems:"center",backgroundColor:t.palette.background.default}},r.a.createElement("img",{style:{display:"none"},src:y,onError:function(){return l(!0)},onLoad:function(){return l(!1)}}),i?r.a.createElement("h1",{style:n},"No Image"):r.a.createElement("img",{style:{borderRadius:"4px",width:"375px",maxWidth:"98%",alignSelf:"center",margin:"8px"},src:y}),r.a.createElement(pe.a,{defaultValue:y,style:Ee,id:"pic-field",label:"Picture",variant:"outlined",onChange:function(e){return O(e.target.value)}}),r.a.createElement(pe.a,{defaultValue:k,error:p,helperText:p?"Name cannot be empty":"",style:Ee,id:"name-field",label:"Name",variant:"outlined",onChange:function(e){return x(e.target.value)}}),r.a.createElement(pe.a,{defaultValue:C,style:Ee,id:"desc-field",label:"Desc",variant:"outlined",onChange:function(e){return I(e.target.value)}}),r.a.createElement(qt,{disabled:p,width:"225px",onClick:Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k){t.next=4;break}return b(!0),setTimeout((function(){return b(!1)}),3e3),t.abrupt("return");case 4:e.isNew?e.onSave(0,k,C,y):e.onSave(e.index,k,C,y),e.handleClose();case 6:case"end":return t.stop()}}),t)}))),label:"Save Item"}))):r.a.createElement("i",{style:{display:"none"}})},pa=n(200),da=function(e){return r.a.createElement(pa.a,Object.assign({elevation:6,variant:"filled"},e))},fa=function(e,t,n){"clickaway"!==t&&n(!1)},ba=function(e){var t=e.severity?e.severity:"error";return r.a.createElement(ie.a,{open:e.open,autoHideDuration:3e3,onClose:e.handleClose},r.a.createElement(da,{onClose:e.handleClose,severity:t},e.message))},ha="",ga=function(e){var t=Object(ae.a)(),n=te(t),c=ne(t),s=Object(a.useReducer)(Vn,null),l=Object(o.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1],y=Object(a.useState)(!1),O=Object(o.a)(y,2),j=O[0],E=O[1],k=Object(a.useState)(!1),x=Object(o.a)(k,2),v=x[0],w=x[1],C=Object(a.useState)(null),I=Object(o.a)(C,2),S=I[0],T=I[1],N=Object(a.useState)(null),L=Object(o.a)(N,2),P=L[0],M=L[1],D=Object(a.useState)(!1),U=Object(o.a)(D,2),R=U[0],B=U[1],A=Object(a.useState)(!1),F=Object(o.a)(A,2),_=F[0],W=F[1],z=Object(a.useState)(!1),q=Object(o.a)(z,2),K=q[0],V=q[1],Y=Object(a.useState)(!1),J=Object(o.a)(Y,2),H=J[0],G=J[1];Object(a.useEffect)((function(){Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.open){t.next=2;break}return t.abrupt("return");case 2:if(!e.isNew){t.next=5;break}return m({type:Bn,payload:{isNew:e.isNew}}),t.abrupt("return");case 5:return g(!0),t.next=8,Yn(e.listId);case 8:n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],V(r),r||m({type:Bn,payload:{isNew:e.isNew,rankedList:c}}),g(!1);case 15:case"end":return t.stop()}}),t)})))()}),[e.listId,e.open,e.isNew]);var $=function(){if(!u||u.rankItems.length<1||!u.title)return G(!0),void setTimeout((function(){return G(!1)}),3e3);e.onSave(u),e.onClose()},Z=h||!u;return e.open?r.a.createElement(bt.a,{onClose:$,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{width:"100%",backgroundColor:t.palette.background.default,alignItems:"center",overscrollBehaviorY:"none"}},r.a.createElement("div",{className:"row",style:{paddingTop:"10px",paddingBottom:"10px",justifyContent:"space-between",alignItems:"center",alignSelf:"start",width:"100%",position:"sticky",top:"0",zIndex:"1",backgroundColor:t.palette.background.default}},r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"start"}},r.a.createElement(jt,{onClick:$}),Z?r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},n),{},{marginLeft:"22px",fontSize:"22px",marginRight:"20px"})},"Loading..."):j?r.a.createElement(pe.a,{onKeyPress:function(e){if("Enter"===e.key){if(ha.length>20)return void w(!0);m({type:An,payload:{title:ha}}),E(!1),e.preventDefault()}},onChange:function(e){ha=e.target.value,w(!1)},error:v,helperText:v?"Must have < 20 characters":"",id:"standard-basic",style:{marginLeft:"22px",fontSize:"22px"},defaultValue:u.title}):r.a.createElement("h1",{onClick:function(){return E(!0)},style:Object(i.a)(Object(i.a)({},n),{},{marginLeft:"22px",fontSize:"22px",marginRight:"20px"})},u.title)),r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"end"}},!Z&&u.private?r.a.createElement(je.a,{onClick:function(){return m({type:Fn,payload:{private:!1}})},style:{cursor:"pointer",marginRight:"10px"}}):r.a.createElement(ye.a,{onClick:function(){return m({type:Fn,payload:{private:!0}})},style:{cursor:"pointer",marginRight:"10px"}}),r.a.createElement(ra.a,{style:{cursor:"pointer",marginRight:"10px"},onClick:e.onDelete}))),r.a.createElement("div",{className:"col",style:{alignItems:"center",overscrollBehaviorY:"scroll",maxWidth:"100%"}},Z?r.a.createElement(ce.a,{type:"bars",color:Q}):u.rankItems.length?r.a.createElement(ia.a,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&m({type:Wn,payload:{startIndex:e.source.index,endIndex:e.destination.index}})},style:{width:"100%"}},r.a.createElement(ia.c,{droppableId:"list",style:{width:"100%"}},(function(e){return r.a.createElement("div",Object.assign({style:{width:"100%"},ref:e.innerRef},e.droppableProps),u.rankItems.map((function(e,t){return r.a.createElement(ia.b,{style:{width:"100%"},key:e.itemId.toString(),draggableId:e.itemId.toString(),index:t},(function(a){return r.a.createElement(sa,{isMain:!0,rankItem:e,textTheme:n,cardTheme:c,innerRef:a.innerRef,provided:a,onDelete:function(){m({type:qn,payload:{index:t}})},onEdit:function(){M(t),T(e),B(!0)}})}))})),e.placeholder)}))):r.a.createElement("h2",{style:n},"No items yet")),!Z&&u.rankItems.length<10?r.a.createElement(ua.a,{style:{marginBottom:"8px",fontSize:"40px",cursor:"pointer"},onClick:function(){return W(!0)}}):r.a.createElement("i",{style:{display:"none"}}),S&&null!==P?r.a.createElement(ma,{rankItem:S,index:P,handleClose:function(){B(!1),M(null),T(null)},open:R,onSave:function(e,t,n,a){m({type:_n,payload:{index:e,itemName:t,description:n,picture:a}})}}):r.a.createElement("i",{style:{display:"none"}}),r.a.createElement(ma,{isNew:!0,handleClose:function(){W(!1),M(null),T(null)},open:_,onSave:function(e,t,n,a){m({type:zn,payload:{itemName:t,description:n,picture:a}})}}),r.a.createElement(ba,{message:"Error Loading List",open:K,handleClose:function(e,t){return fa(0,t,V)}}),r.a.createElement(ba,{message:"List needs at least 1 item",open:H,handleClose:function(e,t){return fa(0,t,G)}}))):r.a.createElement("i",{style:{display:"none"}})},ya=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],m=l[1],p=function(){Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.open){t.next=2;break}return t.abrupt("return");case 2:return s(!0),t.next=5,e.asyncTask();case 5:n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],console.log([r,c]),m(!r),r||setTimeout(e.onClose,1500),s(!1);case 13:case"end":return t.stop()}}),t)})))()};return Object(a.useEffect)(p,[e.open]),r.a.createElement(bt.a,{onClose:e.onClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{justifyContent:"center",alignItems:"center",padding:"10px"}},c?r.a.createElement(ce.a,{type:"bars",color:Q}):r.a.createElement(Oa,{success:u,successMessage:e.successMessage,errorMessage:e.errorMessage,executeTask:p})))},Oa=function(e){var t=Object(i.a)(Object(i.a)({},te(Object(ae.a)())),{},{margin:"0px"});return e.success?r.a.createElement("h3",{style:t},e.successMessage):r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement("h3",{style:t},e.errorMessage),r.a.createElement(qt,{onClick:e.executeTask,width:"150px",label:"Try Again"}))},ja=function(e){return r.a.createElement(be.a,{style:e.cardStyle},r.a.createElement("div",{className:"col"},r.a.createElement(xa,{isDark:e.isDark,userId:e.commentPreview.userId,name:e.commentPreview.username,profPic:e.commentPreview.profilePic,timeStamp:e.commentPreview.dateCreated}),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{margin:"4px"})},e.commentPreview.comment),r.a.createElement("h4",{onClick:e.onClick,style:Object(i.a)(Object(i.a)({},e.textTheme),{},{margin:"4px",textDecoration:"underline",cursor:"pointer",display:e.commentPreview.numComments<=1?"none":"inline"})},"View all ",e.commentPreview.numComments," comments")))},Ea=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),m=u[0],p=u[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),g=h[0],y=h[1],O=Object(a.useState)(e.isLiked),j=Object(o.a)(O,2),E=j[0],k=j[1],x=Object(a.useState)(e.numLikes),v=Object(o.a)(x,2),w=v[0],C=v[1],I=Object(a.useState)(!1),S=Object(o.a)(I,2),T=S[0],N=S[1],L=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,tn(e.id,e.mainUser.userToken);case 3:if(n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],N(r),!r){t.next=13;break}return s(!1),t.abrupt("return");case 13:C(E?w-1:w+1),k(c===Kt),e.mainUser.userDispatch({type:q,payload:{hasLiked:c===Kt,targetId:e.id}}),s(!1);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P={color:"red",height:"45px",width:"45px",marginRight:"6px"};return c?r.a.createElement(ce.a,{type:"bubbles",color:Q}):r.a.createElement("div",{className:"row",style:{margin:"0px",justifyContent:"space-between",alignItems:"center",paddingLeft:"12px",paddingRight:"12px",cursor:"pointer"}},r.a.createElement("div",{className:"row",style:{alignItems:"center"}},E?r.a.createElement(Ln.a,{onClick:L,style:P}):r.a.createElement(Mn.a,{onClick:L,style:P}),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{fontSize:"20px"}),onClick:function(){return p(!0)}},w," ",1===w?"like":"likes")),r.a.createElement("div",{className:"row",style:{alignItems:"center"},onClick:function(){return y(!0)}},r.a.createElement(Un.a,{style:{height:"25x",width:"25px",marginRight:"6px"}}),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{fontSize:"20px"})},e.numComments," ",1===e.numComments?"comment":"comments")),r.a.createElement(Wt,{handleClose:function(){return p(!1)},open:m,title:"Liked By",type:Dt,name:e.id}),r.a.createElement(Na,{open:g,handleClose:function(){return y(!1)},mainUser:e.mainUser,listId:e.id,userComments:!1}),r.a.createElement(ba,{open:T,handleClose:function(e,t){return fa(0,t,N)},message:"Error Liking"}))},ka=function(e){return r.a.createElement("div",{className:"row",style:{alignItems:"center",width:"100%",flexWrap:"nowrap"}},r.a.createElement(mt.a,{style:{height:"50px",width:"50px",backgroundColor:$,margin:"12px"}},r.a.createElement("h3",{style:{fontFamily:ee,color:"white",fontSize:"26px"}},e.ranking)),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{margin:"0px",marginLeft:"2px",fontSize:"28px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},e.itemName))},xa=function(e){var t=Object(l.g)(),n={color:e.isDark?"white":"#666666",fontFamily:ee};return r.a.createElement("div",{className:"row",style:e.full?{justifyContent:"space-between",width:"100%",paddingLeft:"10px",paddingRight:"10px",marginBottom:"4px"}:{justifyContent:"space-between"}},r.a.createElement("div",{className:"row",style:{cursor:"pointer"},onClick:function(){return t.push("/main/profile/"+e.userId)}},r.a.createElement(mt.a,{src:e.profPic,style:{height:"50px",width:"50px",marginRight:"12px"}},r.a.createElement(nt.a,{style:{height:"100%",width:"100%"}})),r.a.createElement("h3",{style:n},e.name)),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},n),{},{marginRight:"4px"})},function(e){var t=new Date(e),n=Date.now()-t.getTime(),a=n/864e5,r=n/36e5,c=n/6e4,s=n/1e3;return s<=0||s>=0&&s<60?"Just Now":c>=1&&c<60?Math.round(c)+"m ago":r>=1&&r<24?Math.round(r)+"h ago":a>=1&&a<30?a>=1&&a<7?Math.round(a)+"d ago":Math.round(a/7)+"w ago":a>=30&&a<365?Math.round(a/30)+"mo ago":Math.round(a/365)+"y ago"}(e.timeStamp)))},va=function(e){var t=Object(ae.a)(),n=ne(t),c=te(t),s=Object(a.useContext)(Y),l=Object(a.useState)(!1),u=Object(o.a)(l,2),m=u[0],p=u[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),g=h[0],y=h[1],O=Object(a.useState)(!1),j=Object(o.a)(O,2),E=j[0],k=j[1],x=Object(a.useState)(!1),v=Object(o.a)(x,2),w=v[0],C=v[1],I=Object(a.useState)(!1),S=Object(o.a)(I,2),T=S[0],N=S[1],L=Object(a.useState)(null),P=Object(o.a)(L,2),M=P[0],D=P[1],U=function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!1),t.next=3,Zn(e.rankedList.listId,s.userToken);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(M),!(M&&M.rankItems.length>=1)){t.next=7;break}return t.next=4,Gn(M,e.rankedList.listId,s.userToken);case 4:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",[!1,{}]);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){return k(!0)};return s.user?r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},n),{},{width:"400px",maxWidth:"98%",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",marginBottom:"18px"})},r.a.createElement("div",{className:"col",style:{width:"100%"}},r.a.createElement(xa,{name:e.rankedList.username,userId:e.rankedList.userId,profPic:e.rankedList.profilePic,timeStamp:e.rankedList.dateCreated,isDark:"dark"===t.palette.type}),r.a.createElement("h2",{style:Object(i.a)(Object(i.a)({},c),{},{marginTop:"0px",cursor:"pointer"}),onClick:B},e.rankedList.title),r.a.createElement("img",{style:{borderRadius:"15px",width:"375px",maxWidth:"98%",alignSelf:"center"},src:e.rankedList.picture}),e.rankedList.rankItems.map((function(e){return r.a.createElement(ka,{textTheme:c,ranking:e.ranking,itemName:e.itemName,key:"rank_".concat(e.ranking)})})),r.a.createElement("h4",{onClick:B,style:Object(i.a)(Object(i.a)({},c),{},{margin:"0px",textDecoration:"underline",cursor:"pointer",display:e.rankedList.numItems<=3?"none":"inline"})},"View ",e.rankedList.numItems-e.rankedList.rankItems.length," more items"),r.a.createElement(Ea,{numComments:e.rankedList.numComments,numLikes:e.rankedList.numLikes,textTheme:c,id:e.rankedList.listId,isLiked:s.user.likedLists.includes(e.rankedList.listId),mainUser:s}),e.rankedList.num_comments>=1?r.a.createElement(ja,{onClick:function(){return N(!0)},commentPreview:Object(i.a)(Object(i.a)({},e.rankedList.commentPreview),{},{numComments:e.rankedList.numComments}),isDark:"dark"===t.palette.type,textTheme:c,cardStyle:Object(i.a)(Object(i.a)({},n),{},{margin:"0px",marginBottom:"10px",width:"100%",paddingTop:"8px",paddingLeft:"8px",paddingRight:"8px",backgroundColor:"dark"===t.palette.type?Q:G})}):r.a.createElement("i",{style:{display:"none"}}),r.a.createElement(oa,{open:E,listId:e.rankedList.listId,onClose:function(){return k(!1)},mainUser:s,name:e.rankedList.username,profPic:e.rankedList.profilePic,onEdit:function(){k(!1),C(!0)}}),r.a.createElement(ga,{open:w,listId:e.rankedList.listId,onClose:function(){return C(!1)},onDelete:function(){return y(!0)},onSave:function(e){D(e),p(!0),y(!1)},mainUser:s,isNew:!1}),r.a.createElement(ya,{open:(m||g)&&!(m&&g),asyncTask:m?R:U,onClose:function(){m?p(!1):g&&y(!1),e.onUpdate()},errorMessage:"Unable to "+(m?"edit":g?"delete":"")+" list",successMessage:(m?"Edited":g?"Deleted":"")+" list!"}),r.a.createElement(Na,{open:T,handleClose:function(){return N(!1)},mainUser:s,listId:e.rankedList.listId,userComments:!1}))):(H(s),r.a.createElement(ce.a,{type:"bars",color:Q}))},wa="",Ca=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)(e.isLiked),u=Object(o.a)(l,2),m=u[0],p=u[1],b=Object(a.useState)(e.numLikes),h=Object(o.a)(b,2),g=h[0],y=h[1],O=Object(a.useState)(!1),j=Object(o.a)(O,2),E=j[0],k=j[1],x=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,On(e.id,e.mainUser.userToken);case 3:if(n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],k(r),!r){t.next=13;break}return s(!1),t.abrupt("return");case 13:y(m?g-1:g+1),p(c===Kt),e.mainUser.userDispatch({type:K,payload:{hasLiked:c===Kt,targetId:e.id}}),s(!1);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v={color:"red",height:"45px",width:"45px"};return c?r.a.createElement(ce.a,{type:"bubbles",color:Q}):r.a.createElement("div",{className:"row",style:{margin:"0px",justifyContent:"space-between",alignItems:"center",paddingLeft:"12px",paddingRight:"12px",cursor:"pointer"}},m?r.a.createElement(Ln.a,{onClick:x,style:v}):r.a.createElement(Mn.a,{onClick:x,style:v}),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{fontSize:"20px"})},g," likes"),r.a.createElement(ba,{handleClose:function(e,t){return fa(0,t,k)},open:E,message:"Error Liking Comment"}))},Ia=function(e){var t=e.comment,n=Object(a.useState)(null),c=Object(o.a)(n,2),s=c[0],l=c[1],u=Object(a.useState)(!1),m=Object(o.a)(u,2),p=m[0],b=m[1],h=Object(a.useState)(!1),g=Object(o.a)(h,2),y=g[0],O=g[1],j=Object(a.useState)(!1),E=Object(o.a)(j,2),k=E[0],x=E[1],v=Object(a.useState)(!1),w=Object(o.a)(v,2),C=w[0],I=w[1],S=function(){var n=Object(f.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,In(t.commentId,e.mainUser.userToken);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var n=Object(f.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wn(t.commentId,wa,e.mainUser.userToken,!0);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},e.cardTheme),{},{width:"400px",marginTop:"0px",marginBottom:"8px",maxWidth:"94%"})},r.a.createElement("div",{className:"col",style:{width:"100%",paddingTop:"10px",paddingLeft:"10px",paddingRight:"10px"}},e.mainUser.user.userId===t.userId?r.a.createElement("div",{className:"row",style:{width:"100%",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",{style:{width:"93%"}},r.a.createElement(xa,{name:t.username,userId:t.userId,profPic:t.profilePic,timeStamp:t.dateCreated,isDark:e.isDark})),r.a.createElement(Tn.a,{style:{padding:"0px",margin:"0px",fontSize:"20px",cursor:"pointer"},onClick:function(e){return l(e.target)}}),r.a.createElement(Ge.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){return l(null)}},r.a.createElement($e.a,{onClick:function(){l(null),b(!0)}},"Edit"),r.a.createElement($e.a,{onClick:function(){l(null),I(!0)}},"Delete"),e.toList?r.a.createElement($e.a,{onClick:function(){Object(f.a)(d.a.mark((function n(){var a,r,c,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yn(t.listId);case 2:a=n.sent,r=Object(o.a)(a,2),c=r[0],s=r[1],c||e.onListNav(s.listId,s.profilePic,s.username);case 7:case"end":return n.stop()}}),n)})))(),l(null)}},"To List"):r.a.createElement("i",{style:{display:"none"}}))):r.a.createElement(xa,{name:t.username,userId:t.userId,profPic:t.profilePic,timeStamp:t.dateCreated,isDark:e.isDark}),p?r.a.createElement(pe.a,{defaultValue:t.comment,onKeyPress:function(e){if("Enter"===e.key){if(!wa)return void O(!0);b(!1),x(!0),e.preventDefault()}},style:Ee,label:"Comment",multiline:!0,id:"comment-field",variant:"outlined",error:y,helperText:y?"Comment cannot be empty":"",onChange:function(e){wa=e.target.value,O(!1)}}):r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{marginLeft:"10px",marginRight:"10px",marginBottom:"0px"})},t.comment),r.a.createElement(Ca,{id:t.commentId,mainUser:e.mainUser,textTheme:e.textTheme,numLikes:t.numLikes,isList:!1,isLiked:e.mainUser.user.likedComments.includes(t.commentId)}),r.a.createElement(ya,{open:(k||C)&&!(k&&C),asyncTask:k?T:S,onClose:function(){k?x(!1):In&&I(!1),e.onUpdate()},errorMessage:"Failed to "+(k?"edit":"delete")+" comment",successMessage:(k?"Edited":"Deleted")+" comment"})))},Sa=0,Ta="",Na=function(e){var t=Object(ae.a)(),n=te(t),c=ne(t),s=Object(a.useState)(!1),l=Object(o.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1],y=Object(a.useState)([]),O=Object(o.a)(y,2),j=O[0],E=O[1],k=Object(a.useState)(!1),x=Object(o.a)(k,2),v=x[0],w=x[1],C=Object(a.useState)(un),I=Object(o.a)(C,2),S=I[0],T=I[1],N=Object(a.useState)(!1),L=Object(o.a)(N,2),P=L[0],M=L[1],D=Object(a.useState)(null),U=Object(o.a)(D,2),R=U[0],B=U[1],A=Object(a.useState)(null),F=Object(o.a)(A,2),_=F[0],W=F[1],z=Object(a.useState)(null),q=Object(o.a)(z,2),K=q[0],V=q[1],Y=Object(a.useState)(!1),J=Object(o.a)(Y,2),H=J[0],G=J[1],Z=Object(a.useState)(!1),X=Object(o.a)(Z,2),ee=X[0],re=X[1],se=Object(a.useState)(!1),oe=Object(o.a)(se,2),ie=oe[0],le=oe[1],ue=Object(a.useState)(!1),me=Object(o.a)(ue,2),fe=me[0],be=me[1],he=Object(a.useState)(!1),ge=Object(o.a)(he,2),ye=ge[0],Oe=ge[1],je=function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wn(e.listId,Ta,e.mainUser.userToken,!1);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ke=function(){Ta?(be(!1),le(!0)):be(!0)},xe=function(e,t,n){B(e),W(t),V(n),G(!0)},ve=function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r,c,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.open){t.next=2;break}return t.abrupt("return");case 2:if(m(!0),Sa=0,E([]),!e.userComments){t.next=11;break}return t.next=8,En(Sa,S,e.mainUser.userToken,n);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,xn(e.listId,Sa,S,n);case 13:t.t0=t.sent;case 14:a=t.t0,r=Object(o.a)(a,3),c=r[0],s=r[1],i=r[2],w(s),m(!1),Oe(c),c||E(Object(ft.a)(i));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){ve(!1)}),[e.open,S]),Object(a.useEffect)((function(){ve(!0)}),[P]);var we=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Sa+=1,g(!0),!e.userComments){t.next=8;break}return t.next=5,En(Sa,S,e.mainUser.userToken,P);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,xn(e.listId,Sa,S,P);case 10:t.t0=t.sent;case 11:n=t.t0,a=Object(o.a)(n,3),r=a[0],c=a[1],s=a[2],w(c),g(!1),Oe(r),r||E([].concat(Object(ft.a)(j),Object(ft.a)(s)));case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u?r.a.createElement(bt.a,{onClose:e.handleClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement(ce.a,{type:"bars",color:Q})):r.a.createElement(bt.a,{onClose:e.handleClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{backgroundColor:t.palette.background.default,alignItems:"center",overscrollBehaviorY:"none"}},r.a.createElement("div",{className:"row",style:{justifyContent:"space-between",width:"100%",alignItems:"center",alignSelf:"start",maxWidth:"100%",position:"sticky",top:"0",zIndex:"1",backgroundColor:t.palette.background.default}},r.a.createElement("div",{className:"row",style:{alignItems:"center"}},r.a.createElement(jt,{onClick:e.handleClose}),r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},n),{},{marginLeft:"22px",fontSize:"22px",marginRight:"20px"})},e.userComments?"Your Comments":"Comments")),r.a.createElement("div",{className:"row",style:{alignItems:"center",marginRight:"6px"}},r.a.createElement(gt.a,{style:{cursor:"pointer"},onClick:function(){return M(!P)}}),r.a.createElement(bn,{onSort:function(e){return T(e)}}))),j.length>=1?r.a.createElement("div",{className:"col",style:{alignItems:"center",width:"100%"}},j.map((function(a){return r.a.createElement(Ia,{onUpdate:function(){return M(!P)},onListNav:xe,toList:e.userComments,key:a.commentId,comment:a,mainUser:e.mainUser,cardTheme:c,textTheme:n,isDark:"dark"===t.palette.type})})),v?r.a.createElement("i",{style:{display:"none"}}):h?r.a.createElement(ce.a,{type:"bars",color:Q}):r.a.createElement(qt,{label:"Load More",width:"145px",onClick:we})):r.a.createElement("h2",{style:e.textTheme},"No comments found"),e.userComments&&R?r.a.createElement(oa,{listId:R,open:H,onClose:function(){return G(!1)},mainUser:e.mainUser,profPic:_,name:K,onEdit:function(){G(!1),re(!0)}}):r.a.createElement("i",{style:{display:"none"}}),r.a.createElement(ga,{open:ee,isNew:!1,listId:R,mainUser:e.mainUser,onClose:function(){return re(!1)},onSave:function(t){Object(f.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gn(t,R,e.mainUser.userToken);case 2:case"end":return n.stop()}}),n)})))()},onDelete:function(){return Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zn(R,e.mainUser.userToken);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}}),e.userComments?r.a.createElement("i",{style:{display:"none"}}):r.a.createElement("div",{className:"row",style:{justifyContent:"space-evenly",width:"100%",alignItems:"center",alignSelf:"center",maxWidth:"100%",position:"sticky",bottom:"0",zIndex:"1",backgroundColor:t.palette.background.default}},r.a.createElement(pe.a,{onKeyPress:function(e){"Enter"===e.key&&(ke(),e.preventDefault())},InputProps:{endAdornment:r.a.createElement(de.a,{position:"start"},r.a.createElement(on.a,{onClick:function(){return ke()},style:{cursor:"pointer",color:"dark"===t.palette.type?$:Q}}))},style:Ee,label:"Comment",multiline:!0,id:"comment-field",variant:"outlined",error:fe,helperText:fe?"Comment cannot be empty":"",onChange:function(e){return Ta=e.target.value}})),r.a.createElement(ya,{open:ie,asyncTask:je,onClose:function(){le(!1),M(!P)},errorMessage:"Failed to send comment",successMessage:"Successfully commented"}),r.a.createElement(ba,{message:"Error Loading Comments",handleClose:function(e,t){return fa(0,t,Oe)},open:ye})))},La=Object(Fe.a)((function(e){return{avatar:{cursor:"pointer",height:"200px",width:"200px"},avIcon:{height:"100%",width:"100%"}}})),Pa=function(e){var t=e.onClick;return r.a.createElement("div",{className:"col",style:{alignItems:"center",justifyContent:"center",margin:"10px",cursor:t?"pointer":"auto"},onClick:t},r.a.createElement("h2",{style:e.textTheme},e.stat),r.a.createElement("h3",{style:e.textTheme},e.label))},Ma=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(e.isFollowing),l=Object(o.a)(i,2),u=l[0],m=l[1],p=e.mainUser;return c?r.a.createElement(ce.a,{type:"bubbles",color:Q}):r.a.createElement(qt,{onClick:Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,Xt(e.userId,p.userToken);case 3:if(n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],!r){t.next=12;break}return s(!1),t.abrupt("return");case 12:m("FOLLOW"===c),p.userDispatch({type:z,payload:{hasFollowed:"FOLLOW"===c,targetId:e.userId}}),s(!1);case 15:case"end":return t.stop()}}),t)}))),width:"400px",label:u?"Unfollow":"Follow"})},Da="",Ua=function(e){var t=Object(a.useContext)(Y),n=t.userDispatch,c=t.userToken,s=Object(a.useState)(!1),l=Object(o.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1];return r.a.createElement("div",{className:"col",style:{alignSelf:"start",marginLeft:"10px",marginRight:"10px",width:"100%"}},r.a.createElement("div",{className:"row",style:{alignItems:"center"}},r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{textAlign:"start"})},"Bio"),r.a.createElement(dt.a,{onClick:function(){e.isMain&&!u&&m(!0)},style:{marginLeft:"12px",cursor:"pointer",display:e.isMain?"inline":"none"}})),u?r.a.createElement(De,{default:e.bio,onChange:function(e){return Da=e.target.value},onEnter:function(){if(""===Da)return g(!0),void setTimeout((function(){g(!1)}),2e3);Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(Da,c);case 2:e.sent[0]?(g(!0),setTimeout((function(){g(!1)}),2e3)):(n({type:_,payload:{bio:Da}}),m(!1));case 4:case"end":return e.stop()}}),e)})))()},error:h}):r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{textAlign:"start"})},e.bio?e.bio:e.isMain?"Set a bio to highlight your interests":"This user does not have a bio"),r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{textAlign:"start"})},"Date Created"),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},e.textTheme),{},{textAlign:"start"})},function(e){var t=new Date(e);return"".concat(ln[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())}(e.date)))},Ra=function(e){var t=Object(a.useContext)(Y),n=La(),c=Object(ae.a)(),s=te(c),l=Object(a.useState)(!1),u=Object(o.a)(l,2),m=u[0],p=u[1],d=Object(a.useState)(!1),f=Object(o.a)(d,2),b=f[0],h=f[1],g=Object(a.useState)(!1),y=Object(o.a)(g,2),O=y[0],j=y[1],E=Object(a.useState)(!1),k=Object(o.a)(E,2),x=k[0],v=k[1],w=[],C=e.isMain?t.user:e.user;if(!t.user)return H(t),r.a.createElement(ce.a,{type:"bars",color:Q});var I=C.profilePic;return w.push({onClick:null,label:"Rank Points",stat:C.rankPoints},{onClick:e.onListClick,label:"Rank Lists",stat:C.numLists},{onClick:function(){return h(!0)},label:"Followers",stat:C.numFollowers},{onClick:function(){return j(!0)},label:"Following",stat:C.numFollowing}),e.isMain&&w.push({onClick:function(){return v(!0)},label:"Comments",stat:C.numComments},{onClick:e.onLikeClick,label:"Liked Lists",stat:C.likedLists.length}),r.a.createElement(be.a,{style:Object(i.a)(Object(i.a)({},ne(c)),{},{width:"850px",maxWidth:"100%"})},r.a.createElement(he.a,{className:"col",style:{alignItems:"center"}},r.a.createElement("h1",{style:s},C.username),r.a.createElement("div",{className:"row",style:{justifyContent:"space-around",alignItems:"center",width:"100%"}},r.a.createElement(mt.a,{src:I,className:n.avatar,onClick:function(){e.isMain&&p(!0)}},r.a.createElement(nt.a,{className:n.avIcon})),r.a.createElement("div",{className:"row",style:{flexWrap:"wrap",justifyContent:"space-evenly"}},w.map((function(e){return r.a.createElement(Pa,{onClick:e.onClick,stat:e.stat,label:e.label,key:e.label,textTheme:s})})))),r.a.createElement(Ua,{isMain:e.isMain,textTheme:s,bio:C.bio,date:C.dateCreated}),e.isMain?r.a.createElement("i",{style:{display:"none"}}):r.a.createElement(Ma,{mainUser:t,name:C.username,isFollowing:t.user.following.includes(C.userId),userId:C.userId}),r.a.createElement(Wt,{open:b,handleClose:function(){return h(!1)},title:C.username+"'s Followers",type:Mt,name:C.userId}),r.a.createElement(Wt,{open:O,handleClose:function(){return j(!1)},title:C.username+"'s Following",type:Pt,name:C.userId}),r.a.createElement(Na,{open:x,handleClose:function(){return v(!1)},mainUser:t,userComments:!0}),r.a.createElement(cn,{open:m,handleClose:function(){return p(!1)}})))},Ba=n(107),Aa=n(108),Fa=n.n(Aa),_a=n(191),Wa=(n(145),0),za=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),m=u[0],p=u[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),g=h[0],y=h[1],O=Object(a.useState)(!1),j=Object(o.a)(O,2),E=j[0],k=j[1],x={default:3},v=Object(_a.a)("(max-width:700px)"),w=Object(_a.a)("(min-width:1100px)");x.default=v?1:w?3:2;var C=function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r,c,i,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),Wa=0,s([]),t.next=5,Tt(Ka(Wa,e.sort,e.userId,e.token,e.query,n,e.listType));case 5:a=t.sent,r=Object(o.a)(a,3),c=r[0],i=r[1],l=r[2],p(i),k(c),c||s(Object(ft.a)(l)),y(!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){C(!1)}),[e.query,e.sort,e.listType]),Object(a.useEffect)((function(){C(!0)}),[e.refresh]),g?r.a.createElement(ce.a,{type:"bars",color:Q}):c.length?r.a.createElement("div",null,r.a.createElement(Ba.a,{dataLength:c.length,next:function(){Object(f.a)(d.a.mark((function t(){var n,a,r,i,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Wa+=1,t.next=3,Tt(Ka(Wa,e.sort,e.userId,e.token,e.query,e.refresh,e.listType));case 3:n=t.sent,a=Object(o.a)(n,3),r=a[0],i=a[1],l=a[2],p(i),k(r),r||s([].concat(Object(ft.a)(c),Object(ft.a)(l)));case 11:case"end":return t.stop()}}),t)})))()},hasMore:!m,loader:r.a.createElement(ce.a,{type:"cylon",color:Q})},r.a.createElement(Fa.a,{breakpointCols:c.length<=2&&!v?Object(i.a)(Object(i.a)({},x),{},{default:c.length}):x,className:"gen-list-grid",columnClassName:"gen-list-col"},c.map((function(t){return r.a.createElement(va,{onUpdate:e.onUpdate,rankedList:t,key:"r_"+t.dateCreated})})))),r.a.createElement(ba,{message:"Error Loading Lists",open:E,handleClose:function(e,t){return fa(0,t,k)}})):r.a.createElement("h2",{style:e.textTheme},e.emptyMessage)},qa=function(e){var t=Object(a.useState)(function(){var e=localStorage.getItem("SAVEDSORT");return e?Number(e):0}()),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],m=l[1];return r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"space-around"}},r.a.createElement("div",{className:"row",style:{alignItems:"center"}},r.a.createElement("h2",{style:e.textTheme},e.title),r.a.createElement(gt.a,{style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return m(!u)}})),e.noSort?r.a.createElement("i",{style:{display:"none"}}):r.a.createElement(bn,{onSort:function(e){!function(e){localStorage.setItem("SAVEDSORT",e)}(e),s(e)}})),r.a.createElement(za,{query:e.query,textTheme:e.textTheme,refresh:u,onUpdate:function(){return m(!u)},sort:c,userId:e.userId,token:e.token,emptyMessage:e.emptyMessage,listType:e.listType}))};function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0;return{page:e,sort:t,userId:n,token:a,query:r,refresh:c,endpointBase:s}}var Va=n(9),Ya=n(109),Ja=n.n(Ya),Ha=Object(Va.a)((function(e){return{root:{padding:"8px",color:e.palette.getContrastText(X),backgroundColor:X,"&:hover":{backgroundColor:X}}}}))(fe.a),Ga=function(){var e=Object(a.useContext)(Y),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],m=l[1],p=Object(a.useState)(null),d=Object(o.a)(p,2),f=d[0],b=d[1],h=function(){return s(!1)};return e.user?r.a.createElement("div",null,r.a.createElement(Ha,{variant:"contained",color:"primary",onClick:function(){return s(!0)}},r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"space-evenly",width:"100px"}},r.a.createElement(Ja.a,null),r.a.createElement("h4",{style:{fontFamily:ee,margin:"0px"}},"New List"))),r.a.createElement(ga,{open:c,isNew:!0,mainUser:e,onClose:h,onDelete:h,onSave:function(e){b(e),m(!0)}}),r.a.createElement(ya,{open:u,asyncTask:function(){return f&&f.rankItems.length>=1?function(e,t){return Hn.apply(this,arguments)}(f,e.userToken):[!0,null]},onClose:function(){return m(!1)},errorMessage:"Failed to Create List",successMessage:"Created List!"})):(H(e),r.a.createElement(ce.a,{type:"bars",color:Q}))},$a=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],m=l[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1],y=Object(ae.a)(),O=te(y),j=Object(a.useContext)(Y).userToken;return Object(a.useEffect)((function(){Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isMain&&e.userId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Ht(e.userId);case 4:n=t.sent,a=Object(o.a)(n,2),r=a[0],c=a[1],r?m(r):s(c);case 9:case"end":return t.stop()}}),t)})))()}),[e.userId,e.isMain]),e.isMain?r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement(Ga,null),r.a.createElement(Ra,{isMain:!0,onListClick:function(){return g(!1)},onLikeClick:function(){return g(!0)}}),r.a.createElement(qa,{textTheme:O,title:(h?"Liked":"Your")+" Lists",listType:h?vt:Ct,token:j,emptyMessage:"You haven't "+(h?"liked":"created")+" any lists"})):u?r.a.createElement("h2",{style:te(y)},"Error"):c?r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement(Ra,{isMain:!1,user:c}),r.a.createElement(qa,{userId:c.userId,textTheme:O,title:"".concat(c.username,"'s Lists"),listType:wt,emptyMessage:"".concat(c.username," hasn't made any lists")})):r.a.createElement(ce.a,{type:"bars",color:Q})},Za=function(){var e=Object(ae.a)(),t=te(e);return r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement(Ga,null),r.a.createElement(qa,{title:"Discover Lists",listType:xt,emptyMessage:"No one's made any lists :(",textTheme:t}))},Qa=function(){var e=Object(ae.a)(),t=te(e),n=Object(a.useContext)(Y);if(!n.user)return H(n),r.a.createElement(ce.a,{type:"bars",color:Q});var c=0===n.user.numFollowing;return r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement(Ga,null),c?r.a.createElement("h2",{style:t},"Follow people to see their lists here"):r.a.createElement(qa,{noSort:!0,title:"Feed",token:n.userToken,listType:It,emptyMessage:"No lists posted in the last 24 hours",textTheme:t}))},Xa=function(e){var t=Object(ae.a)(),n=te(t);return r.a.createElement("div",{className:"col",style:{alignItems:"center"}},r.a.createElement(qa,{title:'Searching for lists "'.concat(e.query,'"'),listType:St,query:e.query,emptyMessages:"No lists found",textTheme:n}))},er=function(e){var t=Object(ae.a)(),n=te(t),c=Object(a.useContext)(Y),s=Object(l.g)(),u=Object(a.useState)(""),m=Object(o.a)(u,2),p=m[0],b=m[1],h=Object(a.useState)(""),g=Object(o.a)(h,2),y=g[0],O=g[1],j=Object(a.useState)(!1),E=Object(o.a)(j,2),k=E[0],x=E[1],v=Object(a.useState)(!1),w=Object(o.a)(v,2),C=w[0],I=w[1],S=Object(a.useState)(!1),T=Object(o.a)(S,2),N=T[0],P=T[1],D=Object(a.useState)(!1),U=Object(o.a)(D,2),R=U[0],B=U[1],A=Object(a.useState)(!1),F=Object(o.a)(A,2),_=F[0],W=F[1],z=Object(a.useState)(!1),q=Object(o.a)(z,2),K=q[0],V=q[1],J=Object(a.useState)(""),H=Object(o.a)(J,2),G=H[0],$=H[1],Z=function(){x(!1),I(!1)},X=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("enter"),e.next=3,M(c.user.username,p);case 3:if(t=e.sent,n=Object(o.a)(t,2),a=n[0],r=n[1],!a){e.next=10;break}return x(!0),e.abrupt("return",!1);case 10:if(c.setUserToken(r.jwtToken),y.match(Ie)){e.next=14;break}return I(!0),e.abrupt("return",!1);case 14:return Z(),e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!1),W(!1),Z(),P(!0),e.next=6,X();case 6:if(!e.sent){e.next=14;break}return e.next=9,$t(y,c.userToken);case 9:t=e.sent,n=Object(o.a)(t,2),a=n[0],n[1],a?(B(a),$("Error saving password")):(b(""),O(""),W(!0));case 14:P(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(bt.a,{onClose:e.onClose,"aria-labelledby":"customized-dialog-title",open:e.open},r.a.createElement("div",{className:"col",style:{backgroundColor:t.palette.background.default,alignItems:"center",overscrollBehaviorY:"none"}},r.a.createElement("div",{className:"row",style:{alignItems:"center",alignSelf:"start",width:"fit-content",maxWidth:"100%",position:"sticky",top:"0",zIndex:"1",backgroundColor:t.palette.background.default}},r.a.createElement(jt,{onClick:e.onClose}),r.a.createElement("h1",{style:Object(i.a)(Object(i.a)({},n),{},{marginLeft:"22px",fontSize:"22px",marginRight:"20px"})},"Settings")),r.a.createElement(qt,{label:"Change Profile Picture",width:"320px",onClick:function(){return V(!0)}}),r.a.createElement(cn,{open:K,handleClose:function(){return V(!1)}}),r.a.createElement("h3",{style:Object(i.a)(Object(i.a)({},n),{},{alignSelf:"start",margin:"0px",marginLeft:"18px"})},"Change Password"),r.a.createElement(xe,{label:"Old Password",errorMessage:"Incorrect password",error:k,onEnter:ee,onChange:function(e){return b(e.target.value)}}),r.a.createElement(xe,{label:"New Password",error:C,onEnter:ee,onChange:function(e){return O(e.target.value)}}),N?r.a.createElement(ce.a,{type:"bars",color:Q}):r.a.createElement("div",{className:"col",style:{width:"100%",alignItems:"center"}},r.a.createElement(qt,{label:"Save Password",onClick:ee}),r.a.createElement(qt,{label:"Delete User",color:"red",onClick:Object(f.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),B(!1),e.next=4,Gt(c.userToken);case 4:if(t=e.sent,n=Object(o.a)(t,2),a=n[0],n[1],!a){e.next=13;break}return B(a),$("Error deleting account"),P(!1),e.abrupt("return");case 13:s.push("/auth"),L(),P(!1);case 16:case"end":return e.stop()}}),e)})))})),r.a.createElement(ba,{open:R,handleClose:function(e,t){return fa(0,t,B)},message:G}),r.a.createElement(ba,{open:_,severity:"success",handleClose:function(e,t){return fa(0,t,W)},message:"Saved Password!"})))},tr=Object(Fe.a)((function(e){return{root:{display:"flex",width:"100%"},drawer:Object(Be.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(Be.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(Be.a)({color:e.palette.text.primary,marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240,backgroundColor:e.palette.background.default},content:{width:"100%",justifyContent:"center",alignItems:"center",flexGrow:1,padding:e.spacing(3)},listItem:{width:"95%",borderRadius:"15px",marginLeft:"8px",marginTop:"4px"}}})),nr="",ar=function(e){var t=e.window,n=Object(ae.a)(),c=Object(a.useContext)(J).setTheme,s=void 0!==t?function(){return t().document.body}:void 0,i=Object(a.useState)(!1),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(a.useState)(function(){var e=localStorage.getItem("MAINTAB");return e?Number(e):0}()),f=Object(o.a)(d,2),b=f[0],h=f[1],g=Object(a.useState)(n.palette.type),y=Object(o.a)(g,2),O=y[0],j=y[1],E=Object(a.useState)(!0),k=Object(o.a)(E,2),x=k[0],v=k[1],w=Object(a.useState)(null),C=Object(o.a)(w,2),I=C[0],S=C[1],T=Object(a.useState)(!1),P=Object(o.a)(T,2),M=P[0],D=P[1],U=function(e){v(e),S(null)},R=Object(l.g)(),B=tr(),A="light"===n.palette.type?G:Q,F=n.palette.background.default,_={textDecoration:"none",color:n.palette.text.primary},W={color:"dark"===n.palette.type?$:Q},z=function(){return p(!m)},q=r.a.createElement("div",{className:"col",style:{width:"100%"}},r.a.createElement(se,null),r.a.createElement(_e.a,{style:{marginTop:"10px"}},r.a.createElement(Ae.b,{to:"/main",style:_},r.a.createElement(We.a,{className:B.listItem,button:!0,key:"feed",onClick:function(){h(0),N(0)},style:{backgroundColor:0===b?A:F}},r.a.createElement(ze.a,null,r.a.createElement(rt.a,{style:W})),r.a.createElement(qe.a,{primary:"Feed"}))),r.a.createElement(Ae.b,{to:"/main/discover",style:_},r.a.createElement(We.a,{className:B.listItem,button:!0,key:"discover",onClick:function(){h(1),N(1)},style:{backgroundColor:1===b?A:F}},r.a.createElement(ze.a,null,r.a.createElement(et.a,{style:W})),r.a.createElement(qe.a,{primary:"Discover"}))),r.a.createElement(Ae.b,{to:"/main/profile",style:_},r.a.createElement(We.a,{className:B.listItem,button:!0,key:"profile",onClick:function(){h(2),N(2)},style:{backgroundColor:2===b?A:F}},r.a.createElement(ze.a,null,r.a.createElement(nt.a,{style:W})),r.a.createElement(qe.a,{primary:"Profile"})))),r.a.createElement("div",{className:"col",style:{position:"absolute",bottom:0,width:"100%"}},r.a.createElement(We.a,{button:!0,key:"themechange"},r.a.createElement(Ke.a,{control:r.a.createElement(Ve.a,{checked:"dark"===O,onChange:function(){var e,t="dark"===O?"light":"dark";j(t),c(t),e=t,localStorage.setItem("CURRENT_THEME",e)},name:"themeSwitch",color:"primary"}),label:"Dark Mode"})),r.a.createElement(We.a,{button:!0,key:"settings",onClick:function(){return D(!0)}},r.a.createElement(ze.a,null,r.a.createElement(ut.a,{style:W})),r.a.createElement(qe.a,{primary:"Settings"})),r.a.createElement(Ae.b,{to:"/auth",style:_,onClick:function(){return L()}},r.a.createElement(We.a,{button:!0,key:"logout"},r.a.createElement(ze.a,null,r.a.createElement(it.a,{style:W})),r.a.createElement(qe.a,{primary:"Log Out"})))));return r.a.createElement("div",{className:B.root},r.a.createElement(Ye.a,null),r.a.createElement(Je.a,{position:"fixed",className:B.appBar,style:{backgroundColor:n.palette.background.default,boxShadow:n.shadows[0]}},r.a.createElement(He.a,null,r.a.createElement(le.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:z,className:B.menuButton},r.a.createElement(st.a,null)),r.a.createElement("div",{className:"row",style:{alignItems:"center",justifyContent:"center",width:"90%",alignSelf:"center",justifySelf:"center"}},r.a.createElement(pe.a,{style:{width:"550px",maxWidth:"50%",margin:"12px"},variant:"outlined",placeholder:"Search...",onKeyPress:function(e){"Enter"===e.key&&(R.push("/main/".concat(x?"search_lists":"search_users","/").concat(nr)),e.preventDefault())},onChange:function(e){return nr=e.target.value}}),r.a.createElement(fe.a,{style:{height:"fit-content",fontFamily:ee},onClick:function(e){return S(e.currentTarget)}},x?"Lists":"Users"),r.a.createElement(Ge.a,{id:"simple-menu",anchorEl:I,keepMounted:!0,open:Boolean(I),onClose:function(){return S(null)}},r.a.createElement($e.a,{onClick:function(){return U(!0)}},"Lists"),r.a.createElement($e.a,{onClick:function(){return U(!1)}},"Users"))))),r.a.createElement("nav",{className:B.drawer,"aria-label":"mailbox folders"},r.a.createElement(Ze.a,{smUp:!0,implementation:"css"},r.a.createElement(Qe.a,{container:s,variant:"temporary",anchor:"left",open:m,onClose:z,classes:{paper:B.drawerPaper},ModalProps:{keepMounted:!1}},q)),r.a.createElement(Ze.a,{xsDown:!0,implementation:"css"},r.a.createElement(Qe.a,{classes:{paper:B.drawerPaper},variant:"permanent",open:!0},q))),r.a.createElement("main",{className:B.content},r.a.createElement("div",{className:B.toolbar}),r.a.createElement(er,{open:M,onClose:function(){return D(!1)}}),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/main",component:Qa,exact:!0}),r.a.createElement(l.b,{path:"/main/discover",component:Za}),r.a.createElement(l.b,{path:"/main/search_users/:query",render:function(e){return r.a.createElement(yn,{query:e.match.params.query})}}),r.a.createElement(l.b,{path:"/main/search_lists/:query",render:function(e){return r.a.createElement(Xa,{query:e.match.params.query})}}),r.a.createElement(l.b,{path:"/main/profile",render:function(){return r.a.createElement($a,{isMain:!0})},exact:!0}),r.a.createElement(l.b,{path:"/main/profile/:userId",render:function(e){return function(e){var t=e.match.params.userId;return r.a.createElement($a,{userId:t,isMain:!1})}(e)}}))))},rr={palette:{type:"light",primary:{main:Q,light:G,dark:$},secondary:{main:X,dark:Z}}},cr={palette:Object(i.a)(Object(i.a)({},rr.palette),{},{type:"dark",primary:Object(i.a)(Object(i.a)({},rr.palette.primary),{},{main:$}),secondary:Object(i.a)(Object(i.a)({},rr.palette.secondary),{},{dark:G})})},sr=function(){var e=Object(a.useReducer)(V,null),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(T()),i=Object(o.a)(s,2),p=i[0],d=i[1],f=Object(a.useState)(function(){var e=localStorage.getItem("CURRENT_THEME");return e||"light"}()),b=Object(o.a)(f,2),h=b[0],g=b[1],y=Object(a.useMemo)((function(){return{user:n,userDispatch:c,userToken:p,setUserToken:d}}),[n,c,p,d]),O=Object(a.useMemo)((function(){return{theme:h,setTheme:g}}),[h,g]),j=Object(u.a)(cr),E=Object(u.a)(rr);return r.a.createElement("div",{className:"App"},r.a.createElement(J.Provider,{value:O},r.a.createElement(Y.Provider,{value:y},r.a.createElement(m.a,{theme:"light"===h?E:j},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",component:oe,exact:!0}),r.a.createElement(l.b,{path:"/auth",component:Re}),r.a.createElement(l.b,{path:"/main",component:ar}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae.a,null,r.a.createElement(sr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.36d2e49c.chunk.js.map